{"version":3,"sources":["iberia.js"],"names":["changes","stopAndFricativePalatalizationByYod","string","language","test","preceedingYodPalatalization","push","name","word","description","iberiaTransform","lastChange","replace","rhoticDifferentiation","length","console","log","lateralDevelarization","vowelLengthLoss","fLenition","yodMetathesis","match","vowel","vowelDevelopmentInSequences","labiovelarModifications","p1","p2","includes","intervocalicVoicing","alveoloPalatalFronting","changed","codaLenition","nasalAssimilation","lateralAndNasalPalatalizationByYod","syllableDivider","RegExp","nextSyllableMetaphony","syllables","forEach","syllable","index","concat","metaphony","consonants","vowelBreaking","jFortition","palatalLateralAffricatization","stress","condition","substr","degemination","initialStopAndLateralLenition","originalString","voiceAssimilationSyncope","previousConsonant","consonantToDelete","nextConsonant","liquid","lateSyncope","diphthongModification","finalHighVowelLowering","finalEDeletionAfterDentals","jeSimplificationBeforePalatalLaterals","furtherFLenition","voicedStopApproximization","fandHResolution","VBMerger","deaffrication","sibilantDevoicing","sibilantModifications","yeismo","shift"],"mappings":"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","file":"static/js/3.76ba3496.chunk.js","sourcesContent":["import {\r\n  nasalAssimilation,\r\n  preceedingYodPalatalization,\r\n} from \"./latina.js\";\r\n\r\nlet changes = [];\r\n\r\nconst rhoticDifferentiation = (string, language) => {\r\n  if (\r\n    language === \"spanish\" &&\r\n    /(?<=^ˈ?)r|(?<=[aeɛiɪoɔuʊyʏptkbdɡfβ]ː?ˈ?)r(?!r)/.test(string)\r\n  ) {\r\n    // notation taken from both Lloyd and Canepari\r\n    string = string.replace(/(?<=[aeɛiɪoɔuʊyʏptkbdɡfβ]ː?ˈ?)r(?!ˈ?r)/gi, \"ɾ\");\r\n    string = string.replace(/r(?=[aeɛiɪoɔuʊyʏptkbdɡfβ])/gi, \"rː\");\r\n\r\n    changes.push({\r\n      name: \"/r/ differentiation in Ibero-Romance\",\r\n      word: string,\r\n      description:\r\n        \"/r/ becomes fortified word initially, becoming identical to a geminate /rr/, while single /r/ between vowels and after tautosyllabic consonants become a tap /ɾ/\",\r\n    });\r\n  }\r\n};\r\n\r\nconst lateralDevelarization = (string, language) => {\r\n  if (/ɫ/g.test(string)) {\r\n    string = string.replace(/ɫ/g, \"l\");\r\n    console.log(\"Develarization of /l/: [\" + string + \"]\");\r\n\r\n    return changes.push({\r\n      name: \"Develarization of /l/\",\r\n      word: string,\r\n      description: \"/l/ becomes develarized\",\r\n    });\r\n  }\r\n};\r\n\r\nconst vowelLengthLoss = (string) => {\r\n  if (/(?<=[aeɛiɪoɔuʊyʏ])ː/.test(string)) {\r\n    string = string.replace(/(?<=[aeɛiɪoɔuʊyʏ])ː/gi, \"\");\r\n\r\n    return changes.push({\r\n      name: \"Loss of vowel length\",\r\n      word: string,\r\n      description: \"Vowel length was lost in Ibero-Romance completely\",\r\n    });\r\n  }\r\n};\r\n\r\nconst fLenition = (string, language) => {\r\n  /* Started around 900 AD in Spanish, doesn't finish until 1500 or so. I need more info \r\n  regarding what happened with /ff/ groups. Penny says they remained as /f/ and cites 'scoffina', but Lloyd claims they assimilated too,\r\n  citing 'offocare' > 'ahogar' and 'subfumare' > 'sahumar'. I'm more inclined to believe Lloyd. Also notice how the vowels in this words\r\n  have been changed, possibly to avoid two vowels of similar or equal qualities to be next to each other (or in 'hiatus').\r\n  It's worth investigating whether the vowels in these words changed in Old Spanish or after Spanish lost /h/ later on*/\r\n  if (/f/.test(string) && language === \"spanish\") {\r\n    string = string.replace(/fw/g, \"ɸw\");\r\n    string = string.replace(/f(?=[aeɛiɪj])/g, \"ɸ\");\r\n    string = string.replace(/f(?=[oɔuʊ])/g, \"h\");\r\n    string = string.replace(/f(ˈ)?([ɸh])/, \"$2$1$2\");\r\n    console.log(\"Progressive lenition of /f/: [\" + string + \"]\");\r\n    return changes.push({\r\n      name: \"Lenition of /f/\",\r\n      word: string,\r\n      description:\r\n        \"/f/ underwent changes in Spanish, becoming [ɸ] before front vowels and [h] before back vowels\",\r\n    });\r\n  }\r\n};\r\n\r\nconst consonantDeletion = (string, language) => {\r\n  // assuming /g/ is deleted more often after a front vowel\r\n  // while /d/ is deleted before a front vowel\r\n  // /j/ was deleted after a front vowel\r\n  // left /b/ and /β/ out because deletion wasn't really common for those phonemes\r\n  if (\r\n    /(?<=[eɛiɪ]ː?ˈ?)ɡ(?=[aeɛiɪoɔuʊyʏ])/.test(string) ||\r\n    /(?<=[aeɛiɪoɔuʊyʏ]ː?ˈ?)d(?=[eɛiɪ])/.test(string) ||\r\n    /(?<=[eɛiɪ]ː?ˈ?)d(?=[ao])/.test(string) ||\r\n    /(?<=[eɛiɪ]ː?j?ˈ?)j(?=[aeɛiɪoɔuʊyʏ])/.test(string) ||\r\n    /(?<=[aeɛiɪoɔuʊyʏ]ː?ˈ?)j(?=[aeɛiɪoɔuʊyʏ])/.test(string)\r\n  ) {\r\n    string = string.replace(/(?<=[eɛiɪ]ː?ˈ?)ɡ(?=[aeɛiɪoɔuʊyʏ])/gi, \"\");\r\n    string = string.replace(/(?<=[aeɛiɪoɔuʊyʏ]ː?ˈ?)d(?=[eɛiɪ])/gi, \"\");\r\n    string = string.replace(/(?<=[eɛiɪ]ː?ˈ?)d(?=[ao])/gi, \"\");\r\n    string = string.replace(/(?<=[aeɛiɪoɔuʊyʏ]ː?ˈ?)j(?=[aeɛiɪoɔuʊyʏ])/gi, \"\");\r\n    string = string.replace(/(?<=[eɛiɪ]ː?)j?(ˈ)?j(?=[aeɛiɪoɔuʊyʏ])/gi, \"$1\");\r\n\r\n    changes.push({\r\n      name: \"Deletion of intervocalic /d/, /ɡ/ and /j/\",\r\n      word: string,\r\n      description:\r\n        \"Intervocalic voiced stops were deleted with some regularity. /d/ was deleted mostly before front vowels, /ɡ/ and /j/ (even if geminated) mostly after front vowels.\",\r\n    });\r\n  }\r\n};\r\n\r\nconst vowelDevelopmentInSequences = (string, language) => {\r\n  if (\r\n    (/(?<=ˈ([ptkbdɡfβh]?[lrɾʷ]?ː?j?|[mnwszʦʣʧʎɲ]j?)?)[eɛoɔ][a]/.test(string) ||\r\n      /[aeɛiɪoɔuʊyʏ]ˈ?[aeɛiɪoɔuʊyʏ]/.test(string)) &&\r\n    language === \"spanish\"\r\n  ) {\r\n    string = string.replace(\r\n      /(?<=ˈ(?:[ptkbdɡfβh]?[lrɾʷ]?ː?j?|[mnwszʦʣʧʎɲ]j?)?)([eɛoɔ])(?=a)/gi,\r\n      (match, vowel) => {\r\n        switch (vowel) {\r\n          case \"e\":\r\n            vowel = \"i\";\r\n            break;\r\n          case \"ɛ\":\r\n            vowel = \"e\";\r\n            break;\r\n          case \"o\":\r\n            vowel = \"u\";\r\n            break;\r\n          case \"ɔ\":\r\n            vowel = \"o\";\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        return vowel;\r\n      }\r\n    );\r\n    string = string.replace(\r\n      /([ptkbdɡfβh]?[lrɾʷ]?ː?j?|[mnwszʦʣʧʎɲ]j?)?[ei](ˈ)?(?=[aou])/gi,\r\n      \"$2$1j\"\r\n    );\r\n    string = string.replace(\r\n      /([ptkbdɡfβh]?[lrɾʷ]?ː?j?|[mnwszʦʣʧʎɲ]j?)?[ou](ˈ)?(?=[aei])/gi,\r\n      \"$2$1w\"\r\n    );\r\n    string = string.replace(\r\n      /([ptkbdɡfβh]?[lrɾʷ]?ː?j?|[mnwszʦʣʧʎɲ]j?)?e(ˈ)?e/gi,\r\n      \"$2$1e\"\r\n    );\r\n    string = string.replace(\r\n      /([ptkbdɡfβh]?[lrɾʷ]?ː?j?|[mnwszʦʣʧʎɲ]j?)?o(ˈ)?o/gi,\r\n      \"$2$1o\"\r\n    );\r\n\r\n    changes.push({\r\n      name: \"Hiatus resolution after deletion\",\r\n      word: string,\r\n      description:\r\n        \"/e, ɛ, o, ɔ/ in tonic syllables just before a vowel in the next syllable were raised by one degree. Two identical vowels were simplified into one. Back vowels before front vowels became approximants, and viceversa\",\r\n    });\r\n  }\r\n\r\n  if (/([ɛɔ])e/.test(string)) {\r\n    string = string.replace(/ɛe/gi, \"ɛi\");\r\n    string = string.replace(/ɔe/gi, \"ɔi\");\r\n    changes.push({\r\n      name: \"Raising of /e/ after low vowels /i/\",\r\n      word: string,\r\n      description: \"/e/ after low front or back vowels becomes raised to /i/\",\r\n    });\r\n  }\r\n};\r\n\r\nconst labiovelarModifications = (string, language) => {\r\n  if (/[kɡ][ʷw]/.test(string)) {\r\n    string = string.replace(/(?<=[ptkbdɡfɸβhlrɾmnwszʦʣʧʎɲ])(ˈ)?k[ʷw]/gi, \"$1k\"); // when after a consonant\r\n    string = string.replace(/^k[ʷw]/, \"k\"); // when unstressed\r\n    string = string.replace(/([kɡ])[ʷw]([eɛiɪoɔuʊyʏ])/, \"$1$2\"); // when not before /a/\r\n    string = string.replace(/k[ʷw]a/, \"kwa\");\r\n    string = string.replace(/ɡ[ʷw]a/, \"ɡwa\");\r\n\r\n    changes.push({\r\n      name: \"Labiovelar modifications\",\r\n      word: string,\r\n      description:\r\n        \"/kʷ/ in an unstressed syllable or after a consonant is simplified to /k/, also before vowels other than /a/. /ɡʷ/ is simplified to /ɡ/ before any vowel other than /a/ as well\",\r\n    });\r\n  }\r\n};\r\n\r\nconst intervocalicVoicing = (string, language) => {\r\n  if (\r\n    /(au(?:ˈ)?|[aeɛiɪoɔuʊyʏ](?:ː)?(?:ˈ)?)([ptkʦs])(?=([aeɛiɪoɔuʊyʏrɾljwʷ]))/gi.test(\r\n      string\r\n    ) &&\r\n    language === \"spanish\"\r\n  ) {\r\n    string = string.replace(\r\n      /(au(?:ˈ)?|[aeɛiɪoɔuʊyʏ](?:ː)?(?:ˈ)?)([ptkʦsf])(?=([aeɛiɪoɔuʊyʏrɾljwʷ]))/gi,\r\n      function replacer(match, p1, p2) {\r\n        if (p1.includes(\"au\")) {\r\n          switch (p2) {\r\n            case \"p\":\r\n              p2 = \"b\";\r\n              break;\r\n            case \"ʦ\":\r\n              p2 = \"ʣ\";\r\n              break;\r\n            case \"s\":\r\n              p2 = \"z\";\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n        } else {\r\n          switch (p2) {\r\n            case \"p\":\r\n              p2 = \"b\";\r\n              break;\r\n            case \"t\":\r\n              p2 = \"d\";\r\n              break;\r\n            case \"k\":\r\n              p2 = \"ɡ\";\r\n              break;\r\n            case \"ʦ\":\r\n              p2 = \"ʣ\";\r\n              break;\r\n            case \"s\":\r\n              p2 = \"z\";\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n        }\r\n\r\n        return p1 + p2;\r\n      }\r\n    );\r\n\r\n    return changes.push({\r\n      name: \"Intervocalic voicing of voiceless consonants\",\r\n      word: string,\r\n      description:\r\n        \"Several consonants became voiced when found between vowels in a word\",\r\n    });\r\n  }\r\n};\r\n\r\nconst alveoloPalatalFronting = (string, language) => {\r\n  if (/[rɾnˈ?]ʤ/.test(string)) {\r\n    string = string.replace(/(?<=[rɾn]ˈ?)ʤ/gi, \"ʣ\");\r\n\r\n    return changes.push({\r\n      name: \"/ʤ/ fronting\",\r\n      word: string,\r\n      description: \"/ʤ/ after consonants is transformed into /ʣ/ in Spanish\",\r\n    });\r\n  }\r\n};\r\n\r\nconst codaLenition = (string, language) => {\r\n  /* This must have happened at least after intervocalic single voiceless C became voiced, \r\n  if we judge by cases like 'texere' > 'texer' with /ʃ/ in several languages, preserving a voiceless consonant*/\r\n  let description = \"\";\r\n  let changed = false;\r\n  if (language === \"spanish\" && /(?<=[aeɛiɪoɔuʊyʏ])[kɡ]ˈ?[tsln]/.test(string)) {\r\n    string = string.replace(/(?<=[aeɛiɪoɔuʊyʏ])(ˈ)?[kɡ](?=ˈ?[tsln])/g, \"i$1\");\r\n    changed = true;\r\n    description = \"/Vk/ or /Vɡ/ before /t, s, l, n/ > /Vi/\";\r\n    if (/iː?it/.test(string)) {\r\n      string = string.replace(/i(ː)?it/g, \"i$1t\");\r\n      description =\r\n        description +\r\n        \"/kt/ that simplified into /it/ after /i/ became simple /it/, preventing later affricatization\";\r\n    }\r\n  }\r\n  if (\r\n    language === \"spanish\" &&\r\n    (/[ou]lˈ?t/.test(string) || /alˈ?[tʦ]/.test(string))\r\n  ) {\r\n    string = string.replace(/[ou]l(ˈ)?t/g, \"ui$1t\");\r\n    string = string.replace(/al(ˈ)?([tʦ])/g, \"au$1$2\");\r\n    changed = true;\r\n    description =\r\n      description +\r\n      \"/l/ after /o, u/ becomes vocalized to /i/ before /t, s/, while /al/ before /t, ʦ/ sometimes vocalized to /u/\";\r\n  }\r\n  if (changed) {\r\n    return changes.push({\r\n      name: \"Vocalization of /k, ɡ, l/ in codas\",\r\n      word: string,\r\n      description: description,\r\n    });\r\n  }\r\n};\r\n\r\nconst lateralAndNasalPalatalizationByYod = (string) => {\r\n  if (/(?<=[aeɛiɪoɔuʊyʏ]ː?)i(ˈ)?[ln]/.test(string)) {\r\n    string = preceedingYodPalatalization(string, \"l\", \"ʎ\");\r\n    string = preceedingYodPalatalization(string, \"n\", \"ɲ\");\r\n    changes.push({\r\n      name: \"Palatalization of /l, n/ after a yod\",\r\n      word: string,\r\n      description:\r\n        \"/l/ and /n/ after a yod (in /Vil/ or /Vin/ contexts) became palatalized into /ʎ/ and /ɲ/ respectively\",\r\n    });\r\n  }\r\n\r\n  if (/(?<=[^aeɛiɪoɔuʊyʏ]ː?ˈ?)[pkɡ]l/.test(string)) {\r\n    string = string.replace(/(?<=ŋː?ˈ?)ɡl/gi, \"ɲ\");\r\n    string = string.replace(/(?<=[mnŋlrɾs]ː?ˈ?)[pkɡ]l/gi, \"ʧ\");\r\n    string = string.replace(/s(?=ˈ?ʧ)/gi, \"\");\r\n    string = nasalAssimilation(string);\r\n\r\n    changes.push({\r\n      name: \"Palatalization of postconsonantal /kl/ and /ɡl/ groups\",\r\n      word: string,\r\n      description:\r\n        \"/pl/, /kl/ after consonants became palatalized into /ʧ/. /nɡl/ routinely became /ɲ/. /s/ before /ʧ/ was usually deleted by assimilation\",\r\n    });\r\n  }\r\n};\r\n\r\nconst yodMetathesis = (string) => {\r\n  // This one is very tricky. In Portuguese /sj/ > /js/ shows normal voicing 'queijo',\r\n  // whereas /ks/ > /js/ shows no voicing  'disse' from 'dixi'\r\n\r\n  if (/(?<=[aeɛiɪoɔuʊyʏ]ː?ˈ?)[sɾr]j(?=[aeɛiɪoɔuʊyʏ])/.test(string)) {\r\n    string = string.replace(\r\n      /(?<=[aeɛiɪoɔuʊyʏ]ː?)(ˈ)?([szɾr])j(?=[aeɛiɪoɔuʊyʏ])/gi,\r\n      \"i$1$2\"\r\n    );\r\n\r\n    return changes.push({\r\n      name: \"Yod metathesis to a previous syllable\",\r\n      word: string,\r\n      description:\r\n        \"The yod in sequences like /sj/ and /ɾj/ often underwent metathesis to the previous syllable, sometimes in different periods\",\r\n    });\r\n  }\r\n};\r\n\r\nconst metaphony = (string, language) => {\r\n  let syllableDivider = new RegExp(\r\n    /(ˈ)?([ptkbdɡfɸβh]?[lrɾʷ]?ː?j?|[mnwszʦʣʧʎɲ]j?)?(ae(?!ː)|au(?!ː)|oe(?!ː)|[aeɛiɪoɔuʊyʏ](?:ː)?[iu]?)((([ptkbdɡfn]s?)(?=[ptkbdɡfsʦʧnm]|$)|[rɾlmnɫŋʦʣʧʎɲsz](?![aeɛiɪoɔuʊyʏjw])|j(?=ˈ?j)))?/gi\r\n  );\r\n  let nextSyllableMetaphony = false;\r\n  let changed = false;\r\n  let description = \"\";\r\n\r\n  if (/[aɛɔo]i|au/.test(string)) {\r\n    // metaphony by yod in the same syllable\r\n    string = string.replace(/([aɛɔo])i/gi, (match, vowel) => {\r\n      switch (vowel) {\r\n        case \"a\":\r\n        case \"ɛ\":\r\n          vowel = \"ei\";\r\n          break;\r\n        case \"ɔ\":\r\n          vowel = \"oi\";\r\n          break;\r\n        case \"o\":\r\n          vowel = \"ui\";\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n      return vowel;\r\n    });\r\n    string = string.replace(/au/gi, \"ou\");\r\n    changed = true;\r\n    description =\r\n      \"/ai, ɛi/  became raised to /ei/, /ɔi/ before a yod raised to /oi/, and /oi/ became /ui/. /au/ became raised to /ou/\";\r\n  }\r\n\r\n  let syllables = [];\r\n  syllables = string.match(syllableDivider);\r\n  console.log(syllables);\r\n\r\n  syllables.forEach((syllable, index) => {\r\n    if (index > 0) {\r\n      if (\r\n        // metaphony by yod in next syllable\r\n        /(?<=[ptkbdɡβfrɾlmnwszʦʣʧʎɲ])j/.test(syllable) &&\r\n        /[ɛeɔo]/.test(syllables[index - 1])\r\n      ) {\r\n        syllables[index - 1] = syllables[index - 1].replace(\r\n          /([ɛeɔo])/i,\r\n          (match, vowel) => {\r\n            switch (vowel) {\r\n              case \"ɛ\":\r\n                vowel = \"e\";\r\n                break;\r\n              case \"e\":\r\n                vowel = \"i\";\r\n                break;\r\n              case \"ɔ\":\r\n                vowel = \"o\";\r\n                break;\r\n              case \"o\":\r\n                vowel = \"u\";\r\n                break;\r\n              default:\r\n                break;\r\n            }\r\n            return vowel;\r\n          }\r\n        );\r\n        nextSyllableMetaphony = true;\r\n        description =\r\n          description +\r\n          \"/ɛ, e, ɔ, o/ are raised by one degree if the next syllable is /CjV/\";\r\n      }\r\n\r\n      if (\r\n        // metaphony by /j/ in the next syllable. Could affect /ɛ/ too, but there's not enough data to decide\r\n        /(?<![ptkbdɡβfrɾlmnwsʦʧʎɲ])j(?=[aeɛiɪoɔuʊyʏ])/.test(syllable) &&\r\n        /[ɛɔ]/.test(syllables[index - 1])\r\n      ) {\r\n        syllables[index - 1] = syllables[index - 1].replace(\r\n          /[ɛɔ]/i,\r\n          (vowel) => {\r\n            if (vowel === \"ɛ\") {\r\n              return \"e\";\r\n            } else return \"o\";\r\n          }\r\n        );\r\n        nextSyllableMetaphony = true;\r\n        description =\r\n          description +\r\n          \"Raising of /ɛ/ to /e/ and /ɔ/ to /o/ if the next syllable starts with /j/\";\r\n      }\r\n\r\n      if (\r\n        // metaphony by /ʎ/ in the next syllable. Could affect /ɛ/ too, but there's not enough data to decide\r\n        /ʎ(?=[aeɛiɪoɔuʊyʏ])/.test(syllable) &&\r\n        /ɔ/.test(syllables[index - 1])\r\n      ) {\r\n        syllables[index - 1] = syllables[index - 1].replace(\"ɔ\", \"o\");\r\n        nextSyllableMetaphony = true;\r\n        description =\r\n          description +\r\n          \"Raising of /ɔ/ to /o/ conditioned by /ʎ/ in the following syllable\";\r\n      }\r\n\r\n      if (\r\n        // metaphony by /ɲ/ in the next syllable. Seems to affect /o/ only, but there are few examples to go by\r\n        /ɲ(?=[aeɛiɪoɔuʊyʏ])/.test(syllable) &&\r\n        /o/.test(syllables[index - 1])\r\n      ) {\r\n        syllables[index - 1] = syllables[index - 1].replace(\"o\", \"u\");\r\n        nextSyllableMetaphony = true;\r\n        description =\r\n          description +\r\n          \"Raising of /o/ to /u/ conditioned by /ɲ/ in the following syllable\";\r\n      }\r\n    }\r\n  });\r\n  console.log(syllables[syllables.length - 2]);\r\n\r\n  if (syllables.length >= 2) {\r\n    if (\r\n      syllables[syllables.length - 1].includes(\"i\") &&\r\n      /[eɛ]/.test(syllables[syllables.length - 2])\r\n    ) {\r\n      if (syllables[syllables.length - 2].includes(\"e\")) {\r\n        syllables[syllables.length - 2] = syllables[\r\n          syllables.length - 2\r\n        ].replace(\"e\", \"i\");\r\n      } else {\r\n        syllables[syllables.length - 2] = syllables[\r\n          syllables.length - 2\r\n        ].replace(\"ɛ\", \"e\");\r\n      }\r\n      nextSyllableMetaphony = true;\r\n      description =\r\n        description +\r\n        \"Raising of /e/ to /i/ and of /ɛ/ to /e/ when the last syllable has /i/\";\r\n    }\r\n  }\r\n\r\n  if (nextSyllableMetaphony) {\r\n    changed = true;\r\n    string = \"\";\r\n    syllables.forEach((syllable) => {\r\n      string = string.concat(syllable);\r\n    });\r\n  }\r\n\r\n  if (changed) {\r\n    return changes.push({\r\n      name: \"Vowel metaphony\",\r\n      word: string,\r\n      description: description,\r\n    });\r\n  }\r\n};\r\n\r\nconst vowelBreaking = (string, language) => {\r\n  if (\r\n    (/ˈ([ptkbdɡfβh]?[lɾrʷ]?|[hjmnwsʦʣʧʎɲ])?ː?(ɛ|ɔ)ː?/.test(string) ||\r\n      /ˈ([ptkbdɡfβh]?[lɾrʷ]?|[hjmnwsʦʣʧʎɲ])?ː?oi/.test(string)) &&\r\n    language === \"spanish\"\r\n  ) {\r\n    string = string.replace(\r\n      /ˈ([ptkbdɡfβh]?[lɾrʷ]?|[hjmnwsʦʣʧʎɲ])?ː?(?<!j)(ɔ|ɛ)(ː)?/g,\r\n      function replacer(match, consonants, vowel, length) {\r\n        if (!consonants) consonants = \"\";\r\n        if (!length) length = \"\";\r\n        if (vowel === \"ɔ\") return \"ˈ\" + consonants + \"we\" + length;\r\n        else if (vowel === \"ɛ\") return \"ˈ\" + consonants + \"je\" + length;\r\n      }\r\n    );\r\n    string = string.replace(\r\n      /ˈ([ptkbdɡfβh]?[lɾrʷ]?ː?|[hjmnwsʦʣʧʎɲ])?oi/,\r\n      \"ˈ$1we\"\r\n    );\r\n    string = string.replace(/jɛ/gi, \"je\");\r\n    string = string.replace(/e(?=ˈ?[ptkbdɡβfrɾlmnwszʦʣʧʎɲ][wj])/gi, \"i\");\r\n    string = string.replace(/o(?=ˈ?[ptkbdɡβfrɾlmnwszʦʣʧʎɲ][wj])/gi, \"u\");\r\n\r\n    changes.push({\r\n      name: \"Vowel breaking of Latin low mid vowels /ɛ, ɔ/\",\r\n      word: string,\r\n      description:\r\n        \"/ɛ, ɔ/ in stressed syllables became broken up into /je/ /we/ respectively. /oi/ diphthongs were swept up in this change and transformed to /we/ too. Metaphony conditioned by these approximants also applied\",\r\n    });\r\n  }\r\n};\r\n\r\nconst stopAndFricativePalatalizationByYod = (string, language) => {\r\n  if (/(?<=[aeɛiɪoɔuʊyʏ]ː?)iˈ?[ts]/.test(string)) {\r\n    string = preceedingYodPalatalization(string, \"t\", \"ʧ\");\r\n    string = preceedingYodPalatalization(string, \"s\", \"ʃ\");\r\n\r\n    return changes.push({\r\n      name: \"Palatalization of /t/ and /s/ after a yod\",\r\n      word: string,\r\n      description:\r\n        \"/t/ and /s/ become palatalized into /ʧ/ and /ʃ/and after a yod\",\r\n    });\r\n  }\r\n};\r\n\r\nconst jFortition = (string, language) => {\r\n  if (/(?<=^ˈ?|[aeɛiɪoɔuʊyʏ])j/.test(string)) {\r\n    string = string.replace(/(?<=^ˈ?|ˈ?[aeɛiɪoɔuʊyʏ])j/, \"ʝ\");\r\n\r\n    changes.push({\r\n      name: \"Fortition of /j/\",\r\n      word: string,\r\n      description:\r\n        \"/j/ between vowels or word initially becomes fortfied into /ʝ/\",\r\n    });\r\n  }\r\n};\r\n\r\nconst palatalLateralAffricatization = (string, language) => {\r\n  if (/ʎ/.test(string) && language === \"spanish\") {\r\n    string = string.replace(/ʎ(ˈ)?ʎ/gi, \"ʤ\");\r\n\r\n    changes.push({\r\n      name: \"Affricatization of /ʎ/\",\r\n      word: string,\r\n      description: \"/ʎ/ became /ʤ/ then later /ʒ/\",\r\n    });\r\n    string = string.replace(/ʤ/gi, \"ʒ\");\r\n    changes.push({\r\n      name: \"Deaffrication of /ʤ/\",\r\n      word: string,\r\n      description: \"/ʤ/ then later /ʒ/\",\r\n    });\r\n  }\r\n};\r\n\r\nconst degemination = (string, language) => {\r\n  // hadn't started by 711 AD yet according to Loporcaro, at least in Spanish\r\n  let condition = new RegExp(\r\n    /pˈ?p|tˈ?t|kˈ?k|bˈ?b|dˈ?d|ɡˈ?ɡ|ʦˈ?ʦ|ʤˈ?ʤ|ʎˈ?ʎ|ɲˈ?ɲ|mˈ?m|nˈ?n|lˈ?l|sˈ?s|fˈ?f|hˈ?h/gi\r\n  );\r\n  let stress;\r\n  if (condition.test(string)) {\r\n    string = string.replace(condition, function replacer(match) {\r\n      if (match.includes(\"ˈ\")) {\r\n        match = match.replace(\"ˈ\", \"\");\r\n        stress = true;\r\n      }\r\n      if (match === \"ll\") {\r\n        if (stress) {\r\n          return (match = \"ˈʎ\");\r\n        } else return (match = \"ʎ\");\r\n      } else if (match === \"nn\") {\r\n        if (stress) {\r\n          return (match = \"ˈɲ\");\r\n        } else return (match = \"ɲ\");\r\n      } else if (stress) {\r\n        return (match = \"ˈ\" + match.substr(0, 1));\r\n      } else return match.substr(0, 1);\r\n    });\r\n    return changes.push({\r\n      name: \"Consonant degemination\",\r\n      word: string,\r\n      description:\r\n        \"Geminate consonants become simplified. /ll/ and /nn/ become /ʎ/ and /ɲ/\",\r\n    });\r\n  }\r\n};\r\n\r\nconst initialStopAndLateralLenition = (string, language) => {\r\n  if (/^ˈ?[pkɡf]l/.test(string) && language === \"spanish\") {\r\n    string = string.replace(/^(ˈ)?[pkf]l/, \"$1ʎ\");\r\n    string = string.replace(/^(ˈ)?ɡl/, \"$1l\");\r\n\r\n    changes.push({\r\n      name: \"Simplification of some consonant + /l/ groups\",\r\n      word: string,\r\n      description:\r\n        \"Initial /pl, kl, fl/ often became transformed into /ʎ/, while initial /ɡl/ became just /l/\",\r\n    });\r\n  }\r\n};\r\n\r\nconst lateSyncope = (string, language) => {\r\n  const originalString = string;\r\n\r\n  // /lVC/, /rVC/\r\n  string = string.replace(\r\n    /(?<!ˈ|^)([lɾrszʦʣnʎɲ]ː?)[eɛiɪoɔuʊyʏ]ˈ([ptkbdɡfɸβmnʣʦlɾ])/gi,\r\n    \"$1ˈ$2\"\r\n  );\r\n  string = string.replace(\r\n    /(?<=ˈ([ptkbdɡfɸβh]?[lrɾʷ]?ː?[jw]?|[mnwszʦʣʧʎɲʝ][jw]?)?[aeɛiɪoɔuʊyʏ]i?)([lɾrzsʦʣn])[eɛiɪoɔuʊyʏ]([ptkbdɡfɸβmnʣʦlɾ])/,\r\n    \"$2$3\"\r\n  );\r\n  // stops before other consonants\r\n  string = string.replace(\r\n    /(?<!ˈ|^)([bdɡβ])[eɛiɪoɔuʊyʏ]ˈ([ptkbdɡfɸβmnʣʦlɾ])/gi,\r\n    \"$1ˈ$2\"\r\n  );\r\n  string = string.replace(\r\n    /(?<=ˈ([ptkbdɡfɸβh]?[lrɾʷ]?ː?[jw]?|[mnwszʦʣʧʎɲʝ]?)?[aeɛiɪoɔuʊyʏ]i?)([bdɡβ])[eɛiɪoɔuʊyʏ]([ptkbdɡfɸβmnʣʦlɾ])/,\r\n    \"$2$3\"\r\n  );\r\n  // syncope of vowels after /m, n/ and before stops\r\n  string = string.replace(/(?<!ˈ|^)([mn])[eɛiɪoɔuʊyʏ]ˈ([ptkbdɡʣ])/gi, \"$1ˈ$2\");\r\n  string = string.replace(\r\n    /(?<=ˈ([ptkbdɡfɸβh]?[lrɾʷ]?ː?[jw]?|[mnwszʦʣʧʎɲʝ][jw]?)?[aeɛiɪoɔuʊyʏ]i?)([mn])[eɛiɪoɔuʊyʏ]([ptkbdɡ])/,\r\n    \"$2$3\"\r\n  );\r\n  // /nVm/ > /nm/ > /rm/\r\n  string = string.replace(/(?<!ˈ|^)n[eɛiɪoɔuʊyʏ]ˈm/gi, \"ɾˈm\");\r\n  string = string.replace(\r\n    /(?<=ˈ([ptkbdɡfɸβh]?[lrɾʷ]?ː?[jw]?|[mnwszʦʣʧʎɲʝ][jw]?)?[aeɛiɪoɔuʊyʏ]i?)n[eɛiɪoɔuʊyʏ]m/,\r\n    \"ɾm\"\r\n  );\r\n  // /mVn, mVr, mVl/ > /mbr, mbl/\r\n  string = string.replace(\r\n    /(?<!ˈ|^)m[eɛiɪoɔuʊyʏ]ˈ([nɾl])/gi,\r\n    (match, liquid) => {\r\n      if (liquid === \"l\") {\r\n        return \"mˈbl\";\r\n      } else if (liquid === \"ɾ\") {\r\n        return \"mˈbɾ\";\r\n      } else return \"mˈn\";\r\n    }\r\n  );\r\n  string = string.replace(\r\n    /(?<=ˈ(?:[ptkbdɡfɸβh]?[lrɾʷ]?ː?[jw]?|[mnwszʦʣʧʎɲʝ][jw]?)?[aeɛiɪoɔuʊyʏ]i?)m[eɛiɪoɔuʊyʏ]([nɾl])/,\r\n    (match, liquid) => {\r\n      if (liquid === \"l\") {\r\n        return \"mbl\";\r\n      } else if (liquid === \"ɾ\") {\r\n        return \"mbɾ\";\r\n      } else return \"mn\";\r\n    }\r\n  );\r\n  // /NKVn/\r\n  string = string.replace(/(?<!ˈ|^)([mnŋ])([bdɡ])[eɛiɪoɔuʊyʏ]ˈn/gi, \"$1$2ˈɾ\");\r\n  string = string.replace(\r\n    /(?<=ˈ([ptkbdɡfɸβh]?[lrɾʷ]?ː?[jw]?|[mnwszʦʣʧʎɲʝ][jw]?)?[aeɛiɪoɔuʊyʏ]i?)([mnŋ])([bdɡ])[eɛiɪoɔuʊyʏ]n/,\r\n    \"$2$3ɾ\"\r\n  );\r\n  // /ndVC/, /rdVC/, /ldVC/\r\n  string = string.replace(\r\n    /(?<!ˈ|^)([nrɾl])d[eɛiɪoɔuʊyʏ]ˈ([ptkbdɡfɸβmnʦʣlɾ])/gi,\r\n    \"$1ˈ$2\"\r\n  );\r\n  string = string.replace(\r\n    /(?<=ˈ([ptkbdɡfɸβh]?[lrɾʷ]?ː?[jw]?|[mnwszʦʣʧʎɲʝ][jw]?)?[aeɛiɪoɔuʊyʏ]i?)([nrɾl])d[eɛiɪoɔuʊyʏ]([ptkbdɡfɸβmnʣʦlɾ])/,\r\n    \"$2$3\"\r\n  );\r\n  // /CKVC/ > /CC/ where the first /K/ is voiceless, thus voice assimilation\r\n  const voiceAssimilationSyncope = (\r\n    match,\r\n    previousConsonant,\r\n    consonantToDelete,\r\n    stress,\r\n    nextConsonant\r\n  ) => {\r\n    if (!stress) stress = \"\";\r\n    if (previousConsonant === \"s\" && consonantToDelete === \"p\") {\r\n      return match;\r\n    }\r\n    switch (nextConsonant) {\r\n      case \"p\":\r\n      case \"b\":\r\n        nextConsonant = \"p\";\r\n        break;\r\n      case \"t\":\r\n      case \"d\":\r\n        nextConsonant = \"t\";\r\n        break;\r\n      case \"k\":\r\n      case \"ɡ\":\r\n        nextConsonant = \"k\";\r\n        break;\r\n      case \"ʦ\":\r\n      case \"ʣ\":\r\n        nextConsonant = \"ʦ\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return previousConsonant + stress + nextConsonant;\r\n  };\r\n\r\n  string = string.replace(\r\n    /(?<!ˈ|^)([nmsrɾl])([ptk])[eɛiɪoɔuʊyʏ](ˈ)([ptkbdɡfɸβmnʦʣlɾ])/gi,\r\n    voiceAssimilationSyncope\r\n  );\r\n  string = string.replace(\r\n    /(?<=ˈ(?:[ptkbdɡfɸβh]?[lrɾʷ]?ː?[jw]?|[mnwszʦʣʧʎɲʝ][jw]?)?[aeɛiɪoɔuʊyʏ]i?)([nmsrɾl])([ptk])[eɛiɪoɔuʊyʏ]()([ptkbdɡfɸβmnʣʦlɾ])/,\r\n    voiceAssimilationSyncope\r\n  );\r\n\r\n  // voice assimilation in contact with /s/ for stops, and devoicing before voiceless stops\r\n  if (/sˈ?[bdɡ]/.test(string) || /zˈ?[ptk]/.test(string)) {\r\n    string = string.replace(/(?<=sˈ?)b/, \"p\");\r\n    string = string.replace(/(?<=sˈ?)d/, \"t\");\r\n    string = string.replace(/(?<=sˈ?)ɡ/, \"k\");\r\n    string = string.replace(/z(?=ˈ?[ptk])/, \"s\");\r\n  }\r\n  string = string.replace(/rrː(?=ˈ?[^aeɛiɪoɔuʊyʏ])/gi, \"ɾ\")\r\n  string = nasalAssimilation(string);\r\n\r\n  if (originalString !== string) {\r\n    changes.push({\r\n      name: \"Syncope\",\r\n      word: string,\r\n      description:\r\n        \"Unstressed syllables with vowels other than /a/ were often syncopated\",\r\n    });\r\n  }\r\n\r\n  // assimilations and metatheses\r\n\r\n  if (\r\n    /([nl])ˈ?ɾ/.test(string) ||\r\n    /([td])([mn])/.test(string) ||\r\n    /dˈ?ɡ/.test(string) ||\r\n    /[ʦʣ]ˈ?[td]/.test(string) ||\r\n    /[bβ]ˈ?[td]/.test(string) ||\r\n    /[ʎɲ](?=[^aeɛiɪoɔuʊyʏ])/.test(string) ||\r\n    /mˈ?n/.test(string)\r\n  ) {\r\n    string = string.replace(/([nl])(ˈ)?ɾ/gi, \"$1$2dɾ\"); // not the only possible resolution of /nr/, /lr/\r\n    string = string.replace(/([td])([mn])/gi, \"$2$1\");\r\n    string = string.replace(/d(ˈ)?ɡ/gi, \"ʣ$1ɡ\");\r\n    string = string.replace(/([ʦʣ])(ˈ)?[td]/gi, \"$2$1\");\r\n    string = string.replace(/(?<=[ou])[bβ](ˈ)?([td])/gi, \"$1$2\");\r\n    string = string.replace(/[bβ](ˈ)?([td])/gi, \"u$1$2\");\r\n    string = string.replace(/ʎ(?=[^aeɛiɪoɔuʊyʏ])/gi, \"l\")\r\n    string = string.replace(/ɲ(?=[^aeɛiɪoɔuʊyʏ])/gi, \"n\")\r\n    string = string.replace(/m(ˈ)?n/gi, \"m$1bɾ\");\r\n    string = nasalAssimilation(string);\r\n\r\n    changes.push({\r\n      name: \"Post-syncope assimilations\",\r\n      word: string,\r\n      description:\r\n        \"Unusual sequences resulting from syncope were often resolved through assimilation, metathesis and consonant epenthesis\",\r\n    });\r\n  }\r\n};\r\n\r\nconst diphthongModification = (string, language) => {\r\n  if (/(ou|ei)(?<!$)/.test(string) && language === \"spanish\") {\r\n    string = string.replace(/ou(?<!$)/gi, \"o\");\r\n    string = string.replace(/ei(?<!$)/gi, \"e\");\r\n\r\n    changes.push({\r\n      name: \"Diphthong simplification\",\r\n      word: string,\r\n      description:\r\n        \"The diphthongs /ei/ and /ou/ from earlier /ai/ and /ou/ become simplified to simple vowels /e/ and /o/ respectively\",\r\n    });\r\n  }\r\n};\r\n\r\nconst finalHighVowelLowering = (string, language) => {\r\n  if (\r\n    /(?<![aeɛiɪoɔuʊyʏ])i$/.test(string) &&\r\n    string.length >= 4 &&\r\n    language === \"spanish\"\r\n  ) {\r\n    string = string.replace(/(?<![aeɛiɪoɔuʊyʏ])i$/, \"e\");\r\n\r\n    changes.push({\r\n      name: \"Merger of word final /i/ and /e/ into /e/\",\r\n      word: string,\r\n      description:\r\n        \"Word final /i/ in polysyllabic words becomes lowered to /e/\",\r\n    });\r\n  }\r\n};\r\n\r\nconst finalEDeletionAfterDentals = (string, language) => {\r\n  if (/[aeɛiɪoɔuʊyʏ][dnɾlszʦʣ]e$/.test(string) && language === \"spanish\") {\r\n    string = string.replace(/(?<=[aeɛiɪoɔuʊyʏ][dnɾlszʦʣ])e$/, \"\");\r\n    string = string.replace(/z$/, \"s\");\r\n    string = string.replace(/ʣ$/, \"ʦ\");\r\n\r\n    changes.push({\r\n      name: \"Final /e/ deletion after dentals\",\r\n      word: string,\r\n      description:\r\n        \"Word final /e/ after dentals is deleted. If a final voiced consonant resulted from this, it was devoiced\",\r\n    });\r\n  }\r\n};\r\n\r\nconst jeSimplificationBeforePalatalLaterals = (string, language) => {\r\n  if (/jeˈ?ʎ/.test(string) && language === \"spanish\") {\r\n    string = string.replace(/je(ˈ)?ʎ/gi, \"i$1ʎ\");\r\n\r\n    changes.push({\r\n      name: \"/je/ reduction before /ʎ/\",\r\n      word: string,\r\n      description: \"/je/ before /ʎ/ was reduced to /i/\",\r\n    });\r\n  }\r\n};\r\n\r\nconst furtherFLenition = (string, language) => {\r\n  // thirteenth century according to Penny\r\n  if (/ɸ[aeɛiɪoɔuʊyʏj]/.test(string) && language === \"spanish\") {\r\n    string = string.replace(/ɸ(?=[aeɛiɪoɔuʊyʏj])/gi, \"h\");\r\n\r\n    changes.push({\r\n      name: \"Further lenition of /ɸ/\",\r\n      word: string,\r\n      description:\r\n        \"/ɸ/ that remained before anything other than /w/ was modified to /h/\",\r\n    });\r\n  }\r\n};\r\n\r\nconst fandHResolution = (string, language) => {\r\n  // thirteenth century according to Penny\r\n  if (\r\n    (/h[aeɛiɪoɔuʊyʏj]/.test(string) || /ɸ/.test(string)) &&\r\n    language === \"spanish\"\r\n  ) {\r\n    string = string.replace(/([ptkbdɡfɸβhmnwszʦʣʧʎɲʝlrɾʷ])?(ˈ)?h/gi, \"$2$1\");\r\n    string = string.replace(/ɸ/gi, \"f\");\r\n\r\n    changes.push({\r\n      name: \"/h/ deletion and /ɸ/ labiodentalization\",\r\n      word: string,\r\n      description:\r\n        \"/ɸ/ that remained before anything other than /w/ was modified to /h/\",\r\n    });\r\n  }\r\n};\r\n\r\nconst voicedStopApproximization = (string, language) => {\r\n  if (\r\n    /(?<=[aeɛiɪoɔuʊyʏlɾszʦʣ]ˈ?)[bɡ](?=[aeɛiɪoɔuʊyʏjwlɾ])/.test(string) ||\r\n    /(?<=[aeɛiɪoɔuʊyʏɾsz]ˈ?)d(?=[aeɛiɪoɔuʊyʏjwlɾ])/.test(string)\r\n  ) {\r\n    string = string.replace(\r\n      /(?<=[aeɛiɪoɔuʊyʏlɾszʦʣ]ˈ?)b(?=[aeɛiɪoɔuʊyʏjwlɾ])/gi,\r\n      \"β̞\"\r\n    );\r\n    string = string.replace(\r\n      /(?<=[aeɛiɪoɔuʊyʏɾsz]ˈ?)d(?=[aeɛiɪoɔuʊyʏjwlɾ])/gi,\r\n      \"ð̞\"\r\n    );\r\n    string = string.replace(\r\n      /(?<=[aeɛiɪoɔuʊyʏlɾszʦʣ]ˈ?)ɡ(?=[aeɛiɪoɔuʊyʏjwlɾ])/gi,\r\n      \"ɣ̞\"\r\n    );\r\n\r\n    changes.push({\r\n      name: \"Approximization of intervocalic /b, d, ɡ/\",\r\n      word: string,\r\n      description:\r\n        \"/b, d, ɡ/ gained new intervocalic allophones [β̞, ð̞, ɣ̞] when found between vowels and liquids (though /d/ remains [d] after /l/)\",\r\n    });\r\n  }\r\n};\r\n\r\nconst VBMerger = (string, language) => {\r\n  if (/β(?<!̞)/.test(string)) {\r\n    string = string.replace(/(?<=^ˈ?|[mn]ˈ?)β/gi, \"b\");\r\n    string = string.replace(/β/gi, \"β̞\");\r\n    string = nasalAssimilation(string);\r\n    changes.push({\r\n      name: \"/β/ merger with /b/\",\r\n      word: string,\r\n      description:\r\n        \"/β/ merges with /b/ in all positions, becoming [b] after nasals and after a pause, and becoming an approximant elsewhere\",\r\n    });\r\n  }\r\n};\r\n\r\nconst deaffrication = (string, language) => {\r\n  if (/[ʦʣ]/.test(string)) {\r\n    string = string.replace(/ʦ/gi, \"s̪\");\r\n    string = string.replace(/ʣ/gi, \"z̪\");\r\n\r\n    changes.push({\r\n      name: \"Deaffrication of /ʦ, ʣ/\",\r\n      word: string,\r\n      description:\r\n        \"/ʦ, ʣ/ become deaffricated, resulting in new dental sibilant fricatives\",\r\n    });\r\n  }\r\n};\r\n\r\nconst sibilantDevoicing = (string, language) => {\r\n  if (string.includes(\"z\") || string.includes(\"ʒ\")) {\r\n    string = string.replace(/z/gi, \"s\");\r\n    string = string.replace(/ʒ/gi, \"ʃ\");\r\n\r\n    changes.push({\r\n      name: \"Sibilant devoicing\",\r\n      word: string,\r\n      description: \"Sibilants become devoiced (/s/ > /z/ and /ʒ/ > /ʃ/)\",\r\n    });\r\n  }\r\n};\r\n\r\nconst sibilantModifications = (string, language) => {\r\n  if (/s̪/.test(string) || string.includes(\"ʃ\")) {\r\n    string = string.replace(/s̪/gi, \"s\");\r\n    string = string.replace(/ʃ/gi, \"x\");\r\n\r\n    changes.push({\r\n      name: \"Sibilant articulation shifts\",\r\n      word: string,\r\n      description:\r\n        \"/s̪/ was modified into /θ/ in Northern Spain, but merged with /s/ everywhere else, while /ʃ/ retracted into /x/ or /h/ depending on the region\",\r\n    });\r\n  }\r\n};\r\n\r\nconst yeismo = (string, language) => {\r\n  if (string.includes(\"ʎ\")) {\r\n    string = string.replace(/ʎ/gi, \"ʝ\");\r\n\r\n    changes.push({\r\n      name: \"Yeísmo\",\r\n      word: string,\r\n      description: \"/ʎ/ merges with with /ʝ/ in most Spanish speaking areas \",\r\n    });\r\n  }\r\n};\r\n\r\n// got to investigate if vowels were raised when directly in contact with another like in 'vía' but for other V\r\n\r\n// deletion of intervocalic stops must have occurred before diphthongization for 'leyenda' to have /j/\r\n\r\n// syncope ocurred after the 11th century, after voicing of consonants and after apocope of final /e/\r\n\r\nconst iberiaTransform = (lastChange, language) => {\r\n  changes = [lastChange];\r\n  rhoticDifferentiation(changes[changes.length - 1].word, language);\r\n  lateralDevelarization(changes[changes.length - 1].word, language);\r\n  vowelLengthLoss(changes[changes.length - 1].word);\r\n  fLenition(changes[changes.length - 1].word, language);\r\n  yodMetathesis(changes[changes.length - 1].word);\r\n  consonantDeletion(changes[changes.length - 1].word, language);\r\n  vowelDevelopmentInSequences(changes[changes.length - 1].word, language);\r\n  labiovelarModifications(changes[changes.length - 1].word, language);\r\n  intervocalicVoicing(changes[changes.length - 1].word, language);\r\n  alveoloPalatalFronting(changes[changes.length - 1].word, language);\r\n  codaLenition(changes[changes.length - 1].word, language);\r\n  lateralAndNasalPalatalizationByYod(changes[changes.length - 1].word);\r\n  metaphony(changes[changes.length - 1].word, language);\r\n  stopAndFricativePalatalizationByYod(\r\n    changes[changes.length - 1].word,\r\n    language\r\n  );\r\n  vowelBreaking(changes[changes.length - 1].word, language);\r\n  jFortition(changes[changes.length - 1].word, language);\r\n  palatalLateralAffricatization(changes[changes.length - 1].word, language);\r\n  degemination(changes[changes.length - 1].word, language);\r\n  initialStopAndLateralLenition(changes[changes.length - 1].word, language);\r\n  lateSyncope(changes[changes.length - 1].word, language);\r\n  stopAndFricativePalatalizationByYod(\r\n    changes[changes.length - 1].word,\r\n    language\r\n  );\r\n  diphthongModification(changes[changes.length - 1].word, language);\r\n  finalHighVowelLowering(changes[changes.length - 1].word, language);\r\n  finalEDeletionAfterDentals(changes[changes.length - 1].word, language);\r\n  jeSimplificationBeforePalatalLaterals(\r\n    changes[changes.length - 1].word,\r\n    language\r\n  );\r\n  furtherFLenition(changes[changes.length - 1].word, language);\r\n  voicedStopApproximization(changes[changes.length - 1].word, language);\r\n  fandHResolution(changes[changes.length - 1].word, language);\r\n  VBMerger(changes[changes.length - 1].word, language);\r\n  deaffrication(changes[changes.length - 1].word, language);\r\n  sibilantDevoicing(changes[changes.length - 1].word, language);\r\n  sibilantModifications(changes[changes.length - 1].word, language);\r\n  yeismo(changes[changes.length - 1].word, language);\r\n  console.log(changes);\r\n  if (changes[0] === lastChange) {\r\n    changes.shift();\r\n  }\r\n  return changes;\r\n};\r\n\r\nexport default iberiaTransform;"],"sourceRoot":""}